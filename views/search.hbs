<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Search | CSE 412 Game System</title>

    {{> common_css}}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>

<body>
    {{> head}}

    <h2 class="text-center text-primary">Results For: {{search}}</h2>
    <div class="container">
        <ul class="nav nav-tabs" id="searchtabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="posts-tab" data-bs-toggle="tab" data-bs-target="#posts-tab-pane"
                    type="button" role="tab" aria-controls="posts-tab-pane" aria-selected="true">Games</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="comments-tab" data-bs-toggle="tab" data-bs-target="#comments-tab-pane"
                    type="button" role="tab" aria-controls="comments-tab-pane" aria-selected="false">Comments</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="users-tab" data-bs-toggle="tab" data-bs-target="#users-tab-pane"
                    type="button" role="tab" aria-controls="users-tab-pane" aria-selected="false">Users</button>
            </li>
        </ul>
        <div class="tab-content" id="search-tab-content">
            {{!-- Games --}}
            <div class="tab-pane fade show active" id="posts-tab-pane" role="tabpane" tabindex="0">
                {{#each games}}
                <section class="card mt-2">
                    <div class="card-body">
                        <h5 class="card-title"><a href="/game/{{gameid}}">{{{surrWord title ../search}}}</a></h5>
                        <h6 class="card-subtitle text-muted">Game By: <a href="/profile/{{userid}}"
                                class="user-name-replace">{{userid}}</a></h6>
                        <p class="card-text">{{{surrWord description ../search}}}</p>
                    </div>
                </section>
                {{/each}}
                {{#isEmpty games}}
                <p class="container text-center">No search results found for games!</p>
                {{/isEmpty}}
            </div>
            {{!-- Comments --}}
            <div class="tab-pane fade" id="comments-tab-pane" role="tabpane" tabindex="0">
                {{#each comments}}
                <section class="card mt-2">
                    <div class="card-body">
                        <h5 class="card-title">From comment made in <a href="/game/{{gameid}}#{{commentid}}"
                                class="game-id-to-title">{{gameid}}</a>.</h5>
                        <h6 class="card-subtitle text-muted">Commented By: <a href="/profile/{{userid}}"
                                class="user-name-replace">{{userid}}</a></h6>
                        <p class="card-text">{{{surrWord description ../search}}}</p>
                    </div>
                </section>
                {{/each}}
                {{#isEmpty comments}}
                <p class="container text-center">No search results found for comments!</p>
                {{/isEmpty}}
            </div>
            {{!-- Users --}}
            <div class="tab-pane fade" id="users-tab-pane" role="tabpane" tabindex="0">
                {{#each users}}
                <section class="card mt-2">
                    <div class="d-flex"><a href="/profile/{{userid}}"><img src="{{profilepicture}}" alt="" class="profile-pic-medium-small"></a>
                    <div class="card-body">
                        <h5 class="card-title"><a href="/profile/{{userid}}">{{username}}</a></h5>
                    </div></div>
                </section>
                {{/each}}
                {{#isEmpty users}}
                <p class="container text-center">No search results found for users!</p>
                {{/isEmpty}}
            </div>
        </div>
    </div>

    {{> scripts}}
</body>